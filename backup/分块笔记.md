# 分块笔记
## 问题
在解决点、段更行、查询的时候，数据很多会超时
## 时间比较
就已 点更新，段查询 (求区间总和)为例。
暴力：虽然更行O(1),但查询每次从新计算，很慢。
前缀和：虽然查询是O(1)，但每次修改都影响后面的所有元素。
分块：O(√n)
## 分块
其实就是把一个数组分成√n块，每次只影响自己的那一块。
还是拿点更新，段查询 (求区间总和)为例
现有一个数组a`{1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16}`
再开一个数组，就叫b吧 `{1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4}`
b[i]表示的就是a[i]被分到哪一块了
这是就开的算个数组bs`{10,26,42,58}`
bs[i]表示第i块数值的和
假如我现在要求i- j的总和，那么就可以先把i- j中的完整块加起来，再加上两侧的不完整块，就可以了

## 懒标记
（数字名称用前面的）
我们在段更新时，可以开一个数组c
c[i]就是i段的懒标记
如果是完整段更新，就可以加到从c[i]上
这样每个值的真实值就是a[i] + c[b[i]]